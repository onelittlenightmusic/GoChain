recipe:
  # Recipe metadata - defines this as a custom target type
  metadata:
    name: "Queue System"
    description: "Queue system simulation with wait time analysis"
    custom_type: "wait time in queue system"
    version: "1.0.0"
    
  # Recipe parameters - these are the configurable values
  parameters:
    prefix: "queue-system"
    count: 1000
    rate: 10.0
    service_time: 0.1
    deterministic: false

  wants:
    # Generator want - explicitly define all labels in recipe
    - type: numbers
      labels:
        role: source               # Explicitly defined, not auto-generated
        category: queue-producer   # Recipe-specific connection label
        component: generator       # Additional semantic label
      params:
        count: count
        rate: rate
        deterministic: deterministic

    # Queue want - explicitly define all labels in recipe
    - type: queue
      labels:
        role: processor           # Explicitly defined, not auto-generated
        category: queue-processor # Recipe-specific semantic label
        component: main-queue     # Additional semantic label
      params:
        service_time: service_time
        deterministic: deterministic
      using:
        - category: queue-producer  # Connect to generator via recipe-defined label

    # Sink want - explicitly define all labels in recipe
    - type: sink
      labels:
        role: collector           # Explicitly defined, not auto-generated  
        category: result-display  # Recipe-specific semantic label
        component: final-sink     # Additional semantic label
      params:
        display_format: "Number: %d"
      using:
        - role: processor         # Connect to queue via recipe-defined label

  # Recipe result definition - specifies which want and stat to use for result
  result:
    # Primary result from the final sink
    primary:
      want_name: "sink"
      stat_name: "TotalProcessed"
      description: "Total items processed through the queue system"
    
    # Queue system metrics
    metrics:
      - want_name: "numbers"
        stat_name: "TotalProcessed"
        description: "Items generated"
      - want_name: "queue"
        stat_name: "TotalProcessed"
        description: "Items processed by queue"
      - want_name: "queue"
        stat_name: "average_wait_time"
        description: "Average wait time in queue"