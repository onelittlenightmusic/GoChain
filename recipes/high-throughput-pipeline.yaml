recipe:
  # Recipe parameters - these are the configurable values
  parameters:
    prefix: "high-throughput"
    count: 10000
    rate: 100.0
    service_time: 0.01
    parallel_queues: 3

  wants:
    # Generator want
    - type: sequence
      params:
        count: count
        rate: rate

    # Parallel Queue 1
    - name: queue first
      type: queue
      params:
        service_time: service_time
      using:
        - category: producer

    # Parallel Queue 2  
    - type: queue
      params:
        service_time: service_time
      using:
        - category: producer

    # Parallel Queue 3
    - type: queue
      params:
        service_time: service_time
      using:
        - category: producer

    # Sink want
    - type: sink
      params:
        display_format: "Processed: %d"
      using:
        - category: parallel-queue
  result:
    - want_name: "queue first"
      stat_name: ".average_wait_time"
      description: "Average wait time"
